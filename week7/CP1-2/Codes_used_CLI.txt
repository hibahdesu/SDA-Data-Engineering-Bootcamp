#Creating a folder to work in it
mkdir -p lambda_layers/python/lib/python3.9/site-packages

#Creating a virtual env
python3 -m venv team1

#Activate the env
source team1/bin/activate

python3.9 -m pip install --platform manylinux2010_x86_64 --implementation cp --only-binary=:all: --upgrade --target lambda_layers/python/lib/python3.9/site-packages snowflake-connector-python==2.7.9


#Going to lambda layer 
cd lambda_layers

zip -r snowflake_lambda_layer.zip *

ls

#Uploade it
aws lambda publish-layer-version \
    --layer-name fl-snowflake-lambda-layer \
    --compatible-runtimes python3.9 \
    --zip-file fileb://snowflake_lambda_layer.zip